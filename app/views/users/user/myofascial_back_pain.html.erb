<title><%= render 'my_page/my_page_myofascial_back_pain' %></title>
<%= render 'my_page/my_page_myofascial_back_pain' %>
  <div class="buttons">
  <%= button_to 'マイページに登録', add_bookmark_path(url: request.fullpath, name: '筋・筋膜性タイプ'), method: :post, class: 'btn btn-primary', id: 'register_button' %>



    <a href="<%= users_all_form_path %>" class="btn btn-secondary">フォーム棚ページに戻る</a>
    <a href="<%= root_path %>" class="btn btn-tertiary">トップページに戻る</a>
  </div>

  <script>
  document.getElementById("register_button")?.addEventListener("click", function(event) {
    event.preventDefault();  // デフォルトの動作を防ぐ

    // CSRFトークンを取得
    var token = document.querySelector('meta[name="csrf-token"]').getAttribute('content');

    // 最寄りのフォームを取得
    var form = this.closest("form");

    // フォームが存在する場合は、CSRFトークンをフォームの隠しフィールドに追加
    if (form) {
      var csrfInput = document.createElement('input');
      csrfInput.setAttribute('type', 'hidden');
      csrfInput.setAttribute('name', 'authenticity_token');
      csrfInput.setAttribute('value', token);
      form.appendChild(csrfInput);

      form.submit();  // フォームを送信
    }
  });
</script>
